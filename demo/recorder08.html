<!DOCTYPE html>
<html lang="ko">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="Cache-Control" content="No-Cache">
    <meta HTTP-EQUIV="Expires" CONTENT="-1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="https://school.littlefox.co.kr/favicon.ico">
    <title>:: 리틀팍스어학원 ::</title>

    <!-- TODO LSCH-17 : 추가되는 CSS -->
    <link rel="stylesheet" href="../recorder/css/LayerMessageBox.css" type="text/css">
    <link rel="stylesheet" href="../recorder/css/AudioRecorder.css" type="text/css">
    <!-- // TODO LSCH-17 : 추가되는 CSS -->

    <!-- TODO LSCH-17 : 수정된 CSS -->
	<link rel="stylesheet" type="text/css" href="./littlefox_player.css">
    <!-- // TODO LSCH-17 : 수정된 CSS -->

	<link rel="stylesheet" type="text/css" href="https://school.littlefox.co.kr/common/css/student.css">

    <style>
        html, body{ height:100%; }
    </style>
</head>
<body>
    <div class="view_recorder_popup">
		<h1 class="subject">1. No Two People Are the Same</h1>

		<div class="view_recorder_inner">
			<div class="info">
				<p class="activity_name"><span>[1-1]</span> Word Practice 1</p>
				<span class="date">2020.06.05 16:16</span>
			</div>

            <!-- [D] data-src에 오디오링크 추가 -->
			<div class="player ui_box sound_player" data-src="../recorder/sample/audio1.mp3">
				<h3 class="hidden">플레이어</h3>

				<div class="ui_box_inner">
					<div class="controls_wrap">
						<div class="control_btns">
							<button type="button" class="btns_bg btn_play">
								<span class="hidden">재생 버튼</span>
							</button>
							<button type="button" class="btns_bg btn_stop" disabled>
								<span class="hidden">정지 버튼</span>
							</button>
						</div>

						<div class="ui_status_bar">
							<div class="current_time">00:00</div>
							<div class="status_bar">
								<span class="playing">
									<span class="status_pointer"></span>
								</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="btn_wrap">
				<button type="button" class="close_btn">Close</button>
			</div>
		</div>

    </div>

    <!-- TODO LSCH-17 : Google Analytics -->
    <!-- <script src="//www.google-analytics.com/analytics.js"></script> -->

    <script src="http://school.littlefox.co.kr/common/js/jquery-1.11.2.min.js" ></script>

    <!-- TODO LSCH-17 : 녹음기 스크립트 코드 -->
    <script src="../recorder/js/libs/CheckBrowser-2.0.2.js"></script>
    <script src="../recorder/js/libs/utils.StringUtil.js"></script>
    <script src="../recorder/js/AudioPlayer.js"></script>
    <script src="../recorder/js/ProgressBar.js"></script>
    <script src="../recorder/js/AudioPlayerManager.js"></script>

    <!-- TODO 녹음기 사용 참고 예시 코드 입니다. ====================== -->
    <script>
  	  'use strict';

  	  var $element = $('.sound_player');
  	  var players;
  	  var playerArr = [];

	  // 오디오 init
  	  $.each($element, function(_, obj){
  		  players = new AudioPlayerManager().init({ element : obj });
  		  playerArr.push(players);
  	  });

  	  $(document).on(PM_CYCLE.ON_RESUME, function(e, player){
  		  var isPlayStatus = player.playing;

  		  playerArr.map(function(el){
  			  // 재생 버튼
  			  if(isPlayStatus){
  				  if(!el.player.playing) {
  					  el.player.eventDisabled(true);
  					  el.playBtn.attr('disabled', true);
  					  el.stopBtn.attr('disabled', true);
  				  }

  			  // 일시정지, 정지 버튼
  			  }else{
  				  el.player.eventDisabled(false);
  				  el.playBtn.attr('disabled', false);

  				  if(el.player.audio.currentTime > 0){
  					  el.stopBtn.attr('disabled', false);

  				  }else{
  					  el.stopBtn.attr('disabled', true);
  				  }
  			  }
  		  });
  	  });
    </script>
	<!-- // TODO 녹음기 사용 참고 예시 코드 입니다. ====================== -->
</body>
</html>
